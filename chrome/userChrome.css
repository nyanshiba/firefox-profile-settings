/* ブックマークツールバーの長さ制限 */
#personal-bookmarks {
    max-width: 700px;
}

/* ブックマークマウスオーバー時の高さ */
.bookmark-item:not(.subviewbutton):not(.menu-iconic):not(.menuitem-iconic) {
    margin: 6px 1px!important;
}

/* タブを閉じるボタンを消す */
.tabbrowser-tab .tab-close-button {
    display: none !important;
}

/* タブスクロールを最小限に、マウスオーバー・選択・再生時はタブを展開 https://www.reddit.com/r/firefox/comments/b3slhs/why_is_there_absolutely_no_possible_way_to/ */
#tabbrowser-tabs {
    --tab-min-width: 200px !important;
}
.tabbrowser-tab:not(:hover):not([selected]):not([soundplaying]) {
    min-width: initial !important;
}
.tab-content {
    overflow: hidden !important;
}

/* タブの一覧表示を常に有効にする */
#tabbrowser-tabs:not([overflow="true"]):not([hashiddentabs]) ~ #alltabs-button {
    display: block !important;
}

/* タブラインに色を付ける skipbackgroundnotify
linkedpanel
titlechanged */
.tabbrowser-tab[pending] > .tab-stack > .tab-background > .tab-line,
.tabbrowser-tab[titlechanged] > .tab-stack > .tab-background > .tab-line,
.tabbrowser-tab[soundplaying] > .tab-stack > .tab-background > .tab-line,
.tabbrowser-tab[attention] > .tab-stack > .tab-background > .tab-line {
    opacity: 1 !important;
    transform: none !important;
}
.tabbrowser-tab[pending] /* ≒skipbackgroundnotify <-->linkedpanel */ > .tab-stack > .tab-background > .tab-line {
    background-color: var(--arrowpanel-dimmed) !important; /* lightslategray */
}
.tabbrowser-tab[titlechanged] > .tab-stack > .tab-background > .tab-line {
    background-color: tomato !important;
    /* background-color: orchid !important; */
}
.tabbrowser-tab[soundplaying] > .tab-stack > .tab-background > .tab-line {
    background-color: crimson !important;
}
.tabbrowser-tab[attention] > .tab-stack > .tab-background > .tab-line {
    background-color: darkturquoise !important; /* LightSeaGreen */
}
.tab-content[attention] {
    background: none !important;
}

/* フォーカスされたタブの境界を無くす */
#navigator-toolbox {
    --tabs-border-color: transparent !important;
}

/* タブの境界を薄く 影響範囲が大きいので注意 */
.titlebar-spacer[type="pre-tabs"],
.tabbrowser-tab:not(:last-of-type)::after {
    border-color: var(--backbutton-border-color) !important;
    opacity: 1 !important;
}

/* タブの数をカウントする */
body {
    counter-reset: activetabcounter alltabcounter;
}
.tabbrowser-tab:not([pending=true]) {
    counter-increment: activetabcounter;
}
.tab-stack {
    counter-increment: alltabcounter;
}
.tabbrowser-tab:last-of-type::after {
    position: fixed;
    right: 140px;
    pointer-events: none;
    padding: 0 5px;
    border-radius: 6px 6px 0 0;
    font-size: 13px;
    content: counter(alltabcounter) " (+" counter(activetabcounter) ")" !important;
    color: white;
    background-color: var(--arrowpanel-dimmed-further);
    border: 4px solid var(--lwt-accent-color) !important;
    border-bottom: 3px solid var(--arrowpanel-dimmed) !important;
    opacity: 1 !important;
}
.tabbrowser-tab:nth-child(n+100):last-of-type::after {
    background-color: rgba(255,0,0,.9);
    border-bottom-color: rgba(255,0,0,.9) !important;
}
.titlebar-spacer[type="pre-tabs"], .titlebar-spacer[type="post-tabs"] {
    width: 80px!important;
}
